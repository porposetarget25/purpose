<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>World Explorer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preload" href="assets/css/styles.css" as="style" />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#0a3d62">
</head>
<body>

<!-- Topbar -->
<nav class="topbar">
    <div class="topbar__inner container">
        <a class="brand" href="index.html" aria-label="World Explorer Home">
            <span class="brand__logo">üåê</span>
            <span class="brand__text">
        <strong>World Explorer</strong>
        <small>Explore the World's Wonders</small>
      </span>
        </a>
        <ul class="nav">
            <li><a class="nav__link is-active" href="index.html">Home</a></li>
            <li><a class="nav__link" href="javascript:void(0)">Attractions</a></li>
        </ul>
    </div>
</nav>
<!-- Journey Section -->
<section class="hero hero--journey"
         style="--hero-photo: url('assets/images/journey-bg.jpg')">
    <div class="hero__media" aria-hidden="true"></div>
    <div class="hero__overlay"></div>
    <div class="hero__content container">
        <h2 class="hero__title">Start Your Journey</h2>
    </div>
</section>




<!-- Two-column layout -->
<section class="home container">
    <!-- Sidebar list -->
    <aside class="sidebar" id="country-list" aria-label="Countries"></aside>

    <!-- Featured panel -->
    <section class="featured" id="featured" aria-live="polite"></section>
</section>

<script>
    // ---- Data (you can extend this anytime) ----
    const DATA = {
      countries: [
        {
          code: "TR",
          key: "turkey",
          name: "Turkey",
          cities: ["Istanbul", "Ankara", "Izmir", "Bursa"],
          hero: "https://images.unsplash.com/photo-1636021597151-cc28dacd915c?w=1600&auto=format&fit=crop",
          links: { Istanbul: "istanbulDetails.html" }
        },
        {
          code: "IN",
          key: "india",
          name: "India",
          cities: ["Amritsar", "Mumbai", "New Delhi", "Kolkata"],
          hero: "https://images.unsplash.com/photo-1564507592333-c60657eea523?q=80&w=1600&auto=format&fit=crop",
          links: { Amritsar: "amritsarDetails.html" }
        },
        { code: "US", key: "usa", name: "USA",
          cities: ["New York","Chicago","LA","SF"],
          hero: "https://images.unsplash.com/photo-1583207884889-d79abf0d0aa3?q=80&w=1600&auto=format&fit=crop" },
        { code: "GB", key: "uk", name: "United Kingdom",
          cities: ["London","Manchester","Bristol","Bath"],
          hero: "https://images.unsplash.com/photo-1587447799293-e50233d6f07f?q=80&w=1600&auto=format&fit=crop" },
        { code: "NZ", key: "nz", name: "New Zealand",
          cities: ["Auckland","Wellington","Queenstown","Dunedin"],
          hero: "https://images.unsplash.com/photo-1547314283-befb6cc5cf29?q=80&w=1600&auto=format&fit=crop" }
      ]
    };

    // ---- Helper: convert ISO code to flag emoji ----
    function countryCodeToFlagEmoji(cc) {
      return cc.toUpperCase().replace(/./g, ch =>
        String.fromCodePoint(127397 + ch.charCodeAt(0))
      );
    }

    // ---- Build sidebar list ----
    const sidebar  = document.getElementById("country-list");
    const featured = document.getElementById("featured");

    function countryItemTpl(c, active=false) {
      return `
        <button class="country-item${active ? ' is-active' : ''}" data-key="${c.key}">
          <span class="country-item__flag" aria-hidden="true">${countryCodeToFlagEmoji(c.code)}</span>
          <span class="country-item__meta">
            <span class="country-item__name">${c.name}</span>
            <span class="country-item__sub">${c.cities.length} Top Cities</span>
          </span>
          <span class="country-item__dot" aria-hidden="true"></span>
        </button>
      `;
    }

    function renderSidebar(activeKey) {
      sidebar.innerHTML = DATA.countries
        .map((c, i) => countryItemTpl(c, (activeKey ? c.key===activeKey : i===0)))
        .join("");
    }

    // ---- Featured card ----
    function renderFeatured(country) {
      const citiesHtml = country.cities.map((city) => {
        const href = country.links?.[city];
        const active = Boolean(href);
        return `
          <a class="city-row${active ? '' : ' is-disabled'}" ${active ? `href="${href}"` : 'href="javascript:void(0)"'}
             ${active ? '' : `onclick="alert('${city} page coming soon!')"`}>
            <span class="city-row__icon">üìç</span>
            <span class="city-row__name">${city}</span>
          </a>
        `;
      }).join("");

    featured.innerHTML = `
      <article class="feature-card" style="--bg:url('${country.hero}')">
        <div class="feature-card__overlay"></div>

        <!-- Title pinned at the top -->
        <h3 class="feature-card__title feature-card__title--top">Explore ${country.name}</h3>

        <div class="feature-card__content">
          <div class="feature-card__cities">
            ${citiesHtml}
          </div>
        </div>
      </article>
    `;


    }

    // ---- Init ----
    renderSidebar();                     // first render
    renderFeatured(DATA.countries[0]);   // default = first country

    // Smooth scroll helper
    function scrollIntoViewIfMobile(el) {
      if (!el) return;
      if (window.matchMedia("(max-width: 900px)").matches) {
        const topbar = document.querySelector(".topbar");
        const offset = topbar ? topbar.offsetHeight + 8 : 0;
        const y = el.getBoundingClientRect().top + window.pageYOffset - offset;
        window.scrollTo({ top: y, behavior: "smooth" });
      }
    }

    // ---- Wire clicks ----
    sidebar.addEventListener("click", (e) => {
      const btn = e.target.closest(".country-item");
      if (!btn) return;
      const key = btn.dataset.key;
      const country = DATA.countries.find(c => c.key === key);
      if (!country) return;

      // toggle active state
      sidebar.querySelectorAll(".country-item").forEach(b => b.classList.remove("is-active"));
      btn.classList.add("is-active");

      renderFeatured(country);

      // scroll featured panel into view on mobile
      scrollIntoViewIfMobile(featured);
    });
</script>

</body>
</html>
